{% extends 'core/plantilla.html' %}

{% load static %}
{% block title %}Productos{% endblock %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/menuP.css' %}" type="text/css">
{% endblock %}
{% block content %}

<div class="menuProveedor">
    <div class="btnP  agregarProveedor text-center">
        <a class="btn btn-primary btn-lg" href="{% url 'productoNew'%}">Agregar Nuevo Producto</a>
    </div>
</div>
<div class="container justify-content-center">
    <div class="row bg-dark text-white rounded p-5 mt-4 mb-4">
        <h1>Listado de Proveedor</h1>
    </div>
    <div class="row">
        {% if 'ok' in request.GET %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Ok!!! </strong>Producto actualizado satisfactoriamente
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        {% if 'fail' in request.GET %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Ups!!! </strong>En estos momentos no podemos atender a tu solicitud... inténtalo más tarde
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}

        <div class="table-responsive">
            <table id="tabla_productos" class="table table-striped table-hover" >
                <thead >
                    <tr class="table-dark">
                        <th>Codigo</th>
                        <th>Nombre Producto</th>
                        <th>Stock Minimo</th>
                        <th>Stock Maximo</th>
                        <th>Precio de Compra</th>
                        <th>Precio de Venta</th>
                        <th>Tipo de Producto</th>
                        <th>Proveedor</th>
                        <th>Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for producto in producto %}
                        <tr>
                            <td>{{producto.codigo}}</td>
                            <td>{{producto.nmbproducto}}</td>
                            <td>{{producto.stockminimo}}</td>
                            <td>{{producto.stockmaximo}}</td>
                            <td>{{producto.preciocompra}}</td>
                            <td>{{producto.precioventa}}</td>
                            <td>{{producto.idtipoproducto}}</td>
                            <td>{{producto.idproveedor}}</td>
                           
                            <td>
                                <a class="btn btn-primary" href="{% url 'productoUpdate' producto.codigo %}">Modificar</a>
                                <a class="btn btn-warning" href="{% url 'productoDelete' producto.codigo %}">Eliminar</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}